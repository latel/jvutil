{"version":3,"file":"index.js","sources":["../math/src/index.ts"],"sourcesContent":["// 浮点数安全的计算模块\n/**\n * 数字相加\n */\nexport const add = (arg1: number | string, arg2: number | string): number => {\n  var r1, r2, m, c;\n  var s1 = arg1.toString(),\n    s2 = arg2.toString();\n  try {\n    r1 = s1.split(\".\")[1].length;\n  } catch (e) {\n    r1 = 0;\n  }\n  try {\n    r2 = s2.split(\".\")[1].length;\n  } catch (e) {\n    r2 = 0;\n  }\n  c = Math.abs(r1 - r2);\n  m = Math.pow(10, Math.max(r1, r2));\n  if (c > 0) {\n    var cm = Math.pow(10, c);\n    if (r1 > r2) {\n      arg1 = Number(s1.replace(\".\", \"\"));\n      arg2 = Number(s2.replace(\".\", \"\")) * cm;\n    } else {\n      arg1 = Number(s1.replace(\".\", \"\")) * cm;\n      arg2 = Number(s2.replace(\".\", \"\"));\n    }\n  } else {\n    arg1 = Number(s1.replace(\".\", \"\"));\n    arg2 = Number(s2.replace(\".\", \"\"));\n  }\n  return (arg1 + arg2) / m;\n};\n\n/**\n * 数字相减\n */\nexport const reduce = (arg1: number | string, arg2: number | string): number => {\n  arg1 = arg1.toString();\n  arg2 = arg2.toString();\n  var r1, r2, m, c;\n  try {\n    r1 = arg1.split(\".\")[1].length;\n  } catch (e) {\n    r1 = 0;\n  }\n  try {\n    r2 = arg2.split(\".\")[1].length;\n  } catch (e) {\n    r2 = 0;\n  }\n\n  c = Math.max(r1, r2);\n  m = Math.pow(10, c);\n  return +((+arg1 * m - +arg2 * m) / m).toFixed(c);\n};\n\n/**\n * 数字相乘\n */\nexport const mul = (arg1: number | string, arg2: number | string) => {\n  var m = 0,\n    s1 = arg1.toString(),\n    s2 = arg2.toString();\n  try {\n    m += s1.split(\".\")[1].length;\n  } catch (e) {}\n  try {\n    m += s2.split(\".\")[1].length;\n  } catch (e) {}\n  return (\n    (Number(s1.replace(\".\", \"\")) * Number(s2.replace(\".\", \"\"))) /\n    Math.pow(10, m)\n  );\n};\n\n/**\n * 数字相除\n */\nexport const div = (arg1: number | string, arg2: number | string, acc: number = 2): number => {\n  var t1 = 0,\n    t2 = 0,\n    r1,\n    r2,\n    c;\n  try {\n    t1 = arg1.toString().split(\".\")[1].length;\n  } catch (e) {}\n  try {\n    t2 = arg2.toString().split(\".\")[1].length;\n  } catch (e) {}\n  c = Math.max(t1, t2, acc);\n  r1 = Number(arg1.toString().replace(\".\", \"\"));\n  r2 = Number(arg2.toString().replace(\".\", \"\"));\n  if (r2 === 0) {\n    throw RangeError(\"no one can be dived by zero\");\n  }\n  return +((r1 / r2) * Math.pow(10, t2 - t1)).toFixed(c);\n};\n\n/**\n * 取模操作\n * @param dividend 目标数字\n * @param divisor 模\n * @returns 余数\n */\nexport const modulo = (dividend: number | string, divisor: number | string): number => {\n  const dividendDecimalLen = (String(dividend).split(\".\")[1] || \"\").length || 0;\n  const divisorDecimalLen = (String(divisor).split(\".\")[1] || \"\").length || 0;\n  const decimalLen = Math.max(dividendDecimalLen, divisorDecimalLen);\n  const a = mul(dividend, Math.pow(10, decimalLen));\n  const b = mul(divisor, Math.pow(10, decimalLen));\n  return a % b;\n};\n"],"names":["mul","arg1","arg2","m","s1","toString","s2","split","length","e","Number","replace","Math","pow","r1","r2","c","abs","max","cm","toFixed","acc","t1","t2","RangeError","dividend","divisor","dividendDecimalLen","String","divisorDecimalLen","decimalLen"],"mappings":"IA8DaA,EAAM,SAACC,EAAuBC,GACzC,IAAIC,EAAI,EACNC,EAAKH,EAAKI,WACVC,EAAKJ,EAAKG,WACZ,IACEF,GAAKC,EAAGG,MAAM,KAAK,GAAGC,OACtB,MAAOC,IACT,IACEN,GAAKG,EAAGC,MAAM,KAAK,GAAGC,OACtB,MAAOC,IACT,OACGC,OAAON,EAAGO,QAAQ,IAAK,KAAOD,OAAOJ,EAAGK,QAAQ,IAAK,KACtDC,KAAKC,IAAI,GAAIV,qCAtEE,SAACF,EAAuBC,GACzC,IAAIY,EAAIC,EAAIZ,EAAGa,EACXZ,EAAKH,EAAKI,WACZC,EAAKJ,EAAKG,WACZ,IACES,EAAKV,EAAGG,MAAM,KAAK,GAAGC,OACtB,MAAOC,GACPK,EAAK,EAEP,IACEC,EAAKT,EAAGC,MAAM,KAAK,GAAGC,OACtB,MAAOC,GACPM,EAAK,EAIP,GAFAC,EAAIJ,KAAKK,IAAIH,EAAKC,GAClBZ,EAAIS,KAAKC,IAAI,GAAID,KAAKM,IAAIJ,EAAIC,IAC1BC,EAAI,EAAG,CACT,IAAIG,EAAKP,KAAKC,IAAI,GAAIG,GAClBF,EAAKC,GACPd,EAAOS,OAAON,EAAGO,QAAQ,IAAK,KAC9BT,EAAOQ,OAAOJ,EAAGK,QAAQ,IAAK,KAAOQ,IAErClB,EAAOS,OAAON,EAAGO,QAAQ,IAAK,KAAOQ,EACrCjB,EAAOQ,OAAOJ,EAAGK,QAAQ,IAAK,WAGhCV,EAAOS,OAAON,EAAGO,QAAQ,IAAK,KAC9BT,EAAOQ,OAAOJ,EAAGK,QAAQ,IAAK,KAEhC,OAAQV,EAAOC,GAAQC,UAMH,SAACF,EAAuBC,GAG5C,IAAIY,EAAIC,EAAIZ,EAAGa,EAFff,EAAOA,EAAKI,WACZH,EAAOA,EAAKG,WAEZ,IACES,EAAKb,EAAKM,MAAM,KAAK,GAAGC,OACxB,MAAOC,GACPK,EAAK,EAEP,IACEC,EAAKb,EAAKK,MAAM,KAAK,GAAGC,OACxB,MAAOC,GACPM,EAAK,EAKP,OAFAC,EAAIJ,KAAKM,IAAIJ,EAAIC,OAENd,GADXE,EAAIS,KAAKC,IAAI,GAAIG,KACMd,EAAOC,GAAKA,GAAGiB,QAAQJ,cAyB7B,SAACf,EAAuBC,EAAuBmB,YAAAA,IAAAA,EAAc,GAC9E,IAEEP,EACAC,EACAC,EAJEM,EAAK,EACPC,EAAK,EAIP,IACED,EAAKrB,EAAKI,WAAWE,MAAM,KAAK,GAAGC,OACnC,MAAOC,IACT,IACEc,EAAKrB,EAAKG,WAAWE,MAAM,KAAK,GAAGC,OACnC,MAAOC,IAIT,GAHAO,EAAIJ,KAAKM,IAAII,EAAIC,EAAIF,GACrBP,EAAKJ,OAAOT,EAAKI,WAAWM,QAAQ,IAAK,KAE9B,KADXI,EAAKL,OAAOR,EAAKG,WAAWM,QAAQ,IAAK,MAEvC,MAAMa,WAAW,+BAEnB,QAAUV,EAAKC,EAAMH,KAAKC,IAAI,GAAIU,EAAKD,IAAKF,QAAQJ,WAShC,SAACS,EAA2BC,GAChD,IAAMC,GAAsBC,OAAOH,GAAUlB,MAAM,KAAK,IAAM,IAAIC,QAAU,EACtEqB,GAAqBD,OAAOF,GAASnB,MAAM,KAAK,IAAM,IAAIC,QAAU,EACpEsB,EAAalB,KAAKM,IAAIS,EAAoBE,GAGhD,OAFU7B,EAAIyB,EAAUb,KAAKC,IAAI,GAAIiB,IAC3B9B,EAAI0B,EAASd,KAAKC,IAAI,GAAIiB"}